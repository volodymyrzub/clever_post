<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="layout.xhtml">
	<ui:define name="body">
		<h:form id="form">
			<p:outputPanel id="listPanel" autoUpdate="false">
				<p:messages id="validationMessages" />
				<ui:insert name="in_list_edit_body"></ui:insert>
				<ui:fragment
					rendered="#{empty displayControlPanel ? true : displayControlPanel}">
					<div class="table_panel ui-widget-header ui-corner-all">
						<ui:insert name="buttons_panel"></ui:insert>
						<p:commandButton action="#{bean.goBack}" value="#{msg.goBack}"
							icon="ui-icon-circle-arrow-w" immediate="true"
							rendered="#{isGoBackDisplayed}" />

						<p:commandButton id="buttonCreate" icon="ui-icon-circle-plus"
							value="#{msg.newItem}" action="#{bean.addEntity}"
							styleClass="addButton" />
						<ui:insert name="actions_panel"></ui:insert>
					</div>
				</ui:fragment>

				<p:dataTable id="table" var="item" value="#{bean.list}"
					scrollable="true" scrollHeight="300">


					<p:column width="50px">

						<p:commandButton icon="ui-icon ui-icon-pencil" title="#{msg.edit}"
							action="#{bean.editEntity}">
							<f:setPropertyActionListener value="#{item.id}"
								target="#{bean.entityEditId}" />
						</p:commandButton>
					</p:column>
					<p:column width="50px">
						<p:commandButton icon="ui-icon ui-icon-close"
							title="#{msg.delete}" onclick="dlgDelete.show()">
							<f:setPropertyActionListener value="#{item.id}"
								target="#{bean.entityDeleteId}" />
						</p:commandButton>
					</p:column>

					<ui:insert name="columns">
					</ui:insert>

				</p:dataTable>

				<p:dialog header="#{msg.dialogDeleteHeader}" widgetVar="dlgDelete"
					resizable="false" effect="SLIDE">  
                               #{msg.dialogDeleteConfirmation}<br />
					<br />
					<div class="btn_line">
						<p:commandButton value="#{msg.dialogDeleteYes}"
							action="#{bean.deleteEntity}" update="listPanel,table, form"
							oncomplete="dlgDelete.hide();" />
						<p:commandButton value="#{msg.dialogDeleteNo}"
							onclick="dlgDelete.hide()" />
					</div>
				</p:dialog>

			</p:outputPanel>
		</h:form>
	</ui:define>
</ui:composition>
</html>